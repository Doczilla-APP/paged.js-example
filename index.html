<html>
<head>
	<title>Beautiful PDFs from HTML</title>

 	<!-- MathJax Configuration Settings -->
	  <script>
	  window.MathJax = {
	    loader: { load: ['[tex]/ams'] },
	    tex: { packages: {'[+]': ['ams']} },
	    "fast-preview": { disabled: true },
	    extensions: ["tex2jax.js", "asciimath2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js", "TeX/noErrors.js"],
	    jax: ["input/TeX", "input/AsciiMath", "output/HTML-CSS"],
	    displayAlign: "left",
	    tex2jax: {
	      inlineMath: [ ["\\(","\\)"] ],
	      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
	      processEscapes: true
	    }, 
	    asciimath2jax: { delimiters: [['`','`']], preview: [""]},
	    "HTML-CSS": { fonts: ["STIX"] }
	  }
	  </script>
  
  <!-- Load MathJax for rendering Math. Configuration settings are above
    Note we use MathJax 2.7.7 and not the latest because we want to customise our font to STIX -->
  <script type="text/javascript" sync src="MathJax-2.7.7/MathJax.js"></script>


	<link rel="stylesheet" type="text/css" href="style.css">
	<script src="toc.js"></script>
	<script src="paged.polyfill.js"></script>
	<!-- The table of contents needs to be generated before paged.js
		fragments the content into pages. Therfore, you need to register
		the handler beforeParsed() and call the table of contents script
		inside. The below code therefore needs to be added after loading
		the paged.js library -->
	<script>
		class handlers extends Paged.Handler {
		    constructor(chunker, polisher, caller) {
				super(chunker, polisher, caller);
		    }
		    beforeParsed(content){

		     const math = document.getElementsByClassName("math") ;
 			 MathJax.Hub.Queue(["Typeset",MathJax.Hub,math]);          
			    createToc({
		    		content: content,

		    		// TOC inserted into element with id toc (refer below HTML):
		    		tocElement: '#toc',


		    		titleElements: [ 'h2:not(.cover-header)', 'h3:not(.cover-header)' ]
		    	});
			}
		  }
		  Paged.registerHandlers(handlers);
	</script>
</head>

<body>


<!-- Cover Page (refer .cover-page in style.css) -->

<div class="cover-page">
	<h1>Beautiful PDFs from HTML</h1>
	<h3 class="no-counter cover-header">An Example Repo by Ashok Khanna</h3>
	<h3 class="no-counter cover-header">March 2021</h3>
</div>

<!-- As class "cover-page" uses a custom page rule,
	it will automatically create a page break after it -->

<!-- Table of Contents (refer .table-of-contents in style.css) -->

<div class="table-of-contents">
	<h1 class="toc-header">Table of Contents</h1>
	<ol id="toc"><!-- Our toc.js script will automatically insert
		the table of content entries into this element --></ol>
</div>



<!-- Place after cover page to avoid incorrect generation of footer
	on page before cover page -->
<p class="footer">Most of this is copy/paste from paged.js</p>
<div class="counter-reset"></div>

<h2 class="no-break">Foreword</h2>
<p>HTML and CSS are <b><i>beautiful</i></b> languages, and to me, one of the landmark achievements of collaboration and the open web. Together, they allow you to create beautifully typeset digital content that can be viewed on any device, without any special software or paid licenses.</p>
<p>The world wide web, however, was designed for scrolling content, and not paginated media (by which I mean discrete pages like physical paper or virtually in pdf). There remains a place for paginated media, indeed there is something comforting and homely from a consistent layout of A4 (or US Letter), that, in my belief, reduces the cognitive tax when consuming new content.</p>
<p>Unfortunately, whilst there are <a href="https://www.w3.org/TR/css-page-3/">W3C standards</a> on paged media, adoption by browsers has not been adequate to date. High quality paid alternatives exist in <a href="https://www.princexml.com">PrinceXML</a>, but a native, free solution has been missing.</p>
<p>A <a href="https://news.ycombinator.com/item?id=26578826">happenstance discussion</a> on HackerNews brought my attention to <a href="https://www.pagedjs.org">paged.js</a>, a genius idea to polyfill the required capabilities to allow browsers to natively handle paged media, without having to build the whole rendering engine from scratch.</p>
<p>This guide provides a basic tutorial to using paged.js, for my own future reference and yours, and I highly recommend you visiting their site and supporting their project. In particular, their <a href="https://www.pagedjs.org/documentation/05-designing-for-print/">documentation</a> covers many aspects of advanced paged media and is a worthwhile next step after reading this guide.</p>

<h2>Getting Started</h2>
<h3>Media Queries</h3>
<p>Before we begin, I want to quickly introduce you to <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries">media queries</a>. Media queries allow us to modify the stylesheet associated with our website depending on whether it is viewed on screen or for print (e.g. when printing to pdf or paper)  and allow us to set different style sheets for print, screen and mobile.</p>
<p>A common use case for media queries is to hide navigational menus from a print or mobile view. Say we have defined a class "sidebar", we could hide it from a print view, whilst keeping it visible in the primary screen view, as follows.</p>

<code><pre>
@media print {
    .sidebar {
        display: none;
    }
}
</pre></code>

<p>For the rest of this guide and the example repo, we will not make use of media queries. But please do remember them and use them liberally to create distinct views for screen, print and mobile based on your requirements. They are a central component of <a href="https://en.wikipedia.org/wiki/Responsive_web_design">responsive web design</a>, a topic we could dedicate an entire book to, but one that is not as relevant for pdf generation (as we know exactly in advance the dimensions our content will be viewed in).</p>
	<h3>Hello test</h3>

	<p>SigmundA 23 hours ago [–]

Wkhtmltopdf is based on QtWebkit which is long deprecated. There was work to move it QtWebEngine but doesn't seem to be going anywhere: https://wkhtmltopdf.org/status.html
In the meantime Chrome added headless support and with command line or puppeteer you can do the same thing with a much newer and more secure engine.
However if you need full CSS-Paged support then PrinceXML is probably your only option and its not cheap: https://www.princexml.com
reply
	
ognarb 21 hours ago [–]

Instead of princexml, there is an open source alternative: https://www.pagedjs.org/. I saw a demo in 2019 at the libregraphicsmeeting and it was really nice and worked well for most browser already. It probably improved since then.
reply
	
blowski 23 hours ago [–]

Despite have a deprecated dependency, is there any issue using wkhtmltopdf? I'm running it in quite a few projects to generate letters and invoices, and not experiencing any issues.
reply
	SigmundA 23 hours ago [–]

Wkhtmltopdf is based on QtWebkit which is long deprecated. There was work to move it QtWebEngine but doesn't seem to be going anywhere: https://wkhtmltopdf.org/status.html
In the meantime Chrome added headless support and with command line or puppeteer you can do the same thing with a much newer and more secure engine.
However if you need full CSS-Paged support then PrinceXML is probably your only option and its not cheap: https://www.princexml.com
reply
	
ognarb 21 hours ago [–]

Instead of princexml, there is an open source alternative: https://www.pagedjs.org/. I saw a demo in 2019 at the libregraphicsmeeting and it was really nice and worked well for most browser already. It probably improved since then.
reply
	
blowski 23 hours ago [–]

Despite have a deprecated dependency, is there any issue using wkhtmltopdf? I'm running it in quite a few projects to generate letters and invoices, and not experiencing any issues.
reply
	SigmundA 23 hours ago [–]

Wkhtmltopdf is based on QtWebkit which is long deprecated. There was work to move it QtWebEngine but doesn't seem to be going anywhere: https://wkhtmltopdf.org/status.html
In the meantime Chrome added headless support and with command line or puppeteer you can do the same thing with a much newer and more secure engine.
However if you need full CSS-Paged support then PrinceXML is probably your only option and its not cheap: https://www.princexml.com
reply
	
ognarb 21 hours ago [–]

Instead of princexml, there is an open source alternative: https://www.pagedjs.org/. I saw a demo in 2019 at the libregraphicsmeeting and it was really nice and worked well for most browser already. It probably improved since then.
reply
	
blowski 23 hours ago [–]

Despite have a deprecated dependency, is there any issue using wkhtmltopdf? I'm running it in quite a few projects to generate letters and invoices, and not experiencing any issues.
reply
	SigmundA 23 hours ago [–]

Wkhtmltopdf is based on QtWebkit which is long deprecated. There was work to move it QtWebEngine but doesn't seem to be going anywhere: https://wkhtmltopdf.org/status.html
In the meantime Chrome added headless support and with command line or puppeteer you can do the same thing with a much newer and more secure engine.
However if you need full CSS-Paged support then PrinceXML is probably your only option and its not cheap: https://www.princexml.com
reply
	
ognarb 21 hours ago [–]

Instead of princexml, there is an open source alternative: https://www.pagedjs.org/. I saw a demo in 2019 at the libregraphicsmeeting and it was really nice and worked well for most browser already. It probably improved since then.
reply
	
blowski 23 hours ago [–]

Despite have a deprecated dependency, is there any issue using wkhtmltopdf? I'm running it in quite a few projects to generate letters and invoices, and not experiencing any issues.
reply
	</p>

<h2>test</h2>
<h3>asdf</h3>


<h2>Math</h2>
<h3>MathJax Library</h3>
<div class="math">
<p>MathJax is a high quality, popular library for rendering Math on the web.</p>

$$ \alpha  = x/y $$
</div>

<div class="page-break"></div>
	
</body>

</html>